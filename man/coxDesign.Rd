% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/getCoxInfo.R
\name{coxDesign}
\alias{coxDesign}
\alias{coxDesign.coxph}
\alias{coxDesign.phreg}
\title{Extract the design matrix used to train a Cox model}
\usage{
coxDesign(object, center)

\method{coxDesign}{coxph}(object, center = FALSE)

\method{coxDesign}{phreg}(object, center = FALSE)
}
\arguments{
\item{object}{The fitted Cox regression model object either
obtained with \code{coxph} (survival package), \code{cph}
(rms package), or \code{phreg} (mets package).}

\item{center}{logical. Should the variable of the linear predictor be centered ?}
}
\description{
Extract the design matrix used to train a Cox model. Should contain the time of event, the type of event, 
the variable for the linear predictor, the strata variables and the date of entry (in case of delayed entry).
}
\examples{
\dontrun{
set.seed(10)
d <- sampleData(2e1, outcome = "survival")
d$entry <- 0

##
library(survival)
mcox <- coxph(Surv(entry, time, event) ~ X1+X2, data = d, x = TRUE, y = TRUE)
coxDesign(mcox)
mcox <- coxph(Surv(time, event) ~ X1*X2+strata(X3), data = d, x = TRUE, y = TRUE)
coxDesign(mcox)
mcox <- coxph(Surv(time, event) ~ X1+X2+strata(X3)+strata(X4), data = d, x = TRUE, y = TRUE)
coxDesign(mcox, center = TRUE)

##
library(rms)
mcox <- cph(Surv(time, event) ~ X1+X2, data = d, x = TRUE, y = TRUE)
coxDesign(mcox)
mcox <- cph(Surv(time, event) ~ X1*X2+strat(X3), data = d, x = TRUE, y = TRUE)
coxDesign(mcox, center = TRUE)
mcox <- cph(Surv(time, event) ~ X1*X2+strat(X3)+strat(X4), data = d, x = TRUE, y = TRUE)
coxDesign(mcox)

##
library(mets) 
d$id <- 1:NROW(d)

mcox <- phreg(Surv(entry, time, event) ~ X1*X2, data = d)
coxDesign(mcox)
mcox <- phreg(Surv(entry, time, event) ~ X1+X2+strata(X3)+cluster(id), data = d)
coxDesign(mcox)
# mcox <- phreg(Surv(entry, time, event) ~ X1+X2+strata(X3)+strata(X4)+cluster(id), data = d)
}
}
\author{
Brice Ozenne broz@sund.ku.dk
}
